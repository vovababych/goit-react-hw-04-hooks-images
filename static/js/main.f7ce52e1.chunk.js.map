{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","component/PreLoader/PreLoader.module.css","component/ImageGallery/ImageGallery.module.css","component/LoadMore/LoadMore.module.css","component/Searchbar/Searchbar.module.css","component/Searchbar/Searchbar.js","component/PreLoader/PreLoader.js","component/Modal/Modal.js","component/ImageGalleryItem/ImageGalleryItem.js","component/ImageGallery/ImageGallery.js","component/LoadMore/LoadMore.js","services/fetchDataApi.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","inputSearch","setInputSearch","reset","className","s","container","form","e","preventDefault","type","button","buttonLabel","input","value","autoComplete","autoFocus","placeholder","onChange","target","Preloader","loader","color","height","width","rootModal","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeydown","removeEventListener","code","createPortal","overlay","onClick","currentTarget","modal","ImageGalleryItem","picture","onOpenPicture","item","src","webformatURL","alt","tags","image","ImageGallery","gallery","map","id","LoadMore","onLoadMore","fetchDataApi","searchQuery","page","axios","get","then","res","data","App","setGallery","setSearchQuery","setPage","showModal","setShowModal","showLoader","setShowLoader","error","setError","largeImage","setLargeImage","total","setTotal","fetchGallary","hits","prev","scrollToDown","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","query","message","length","Math","ceil","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,kC,mBCAhED,EAAOC,QAAU,CAAC,UAAY,yB,mBCA9BD,EAAOC,QAAU,CAAC,OAAS,4B,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,gC,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,2B,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,0BAA0B,YAAc,+BAA+B,MAAQ,2B,0IC4CnKC,MAxCf,YAAkC,IAAbC,EAAY,EAAZA,SAAY,EACOC,mBAAS,IADhB,mBACxBC,EADwB,KACXC,EADW,KAazBC,EAAQ,WACZD,EAAe,KAGjB,OACE,wBAAQE,UAAWC,IAAEC,UAArB,SACE,uBAAMF,UAAWC,IAAEE,KAAMR,SAZR,SAAAS,GACnBA,EAAEC,iBACFV,EAASE,GACTE,KASE,UACE,wBAAQO,KAAK,SAASN,UAAWC,IAAEM,OAAnC,SACE,sBAAMP,UAAWC,IAAEO,YAAnB,sBAGF,uBACER,UAAWC,IAAEQ,MACbH,KAAK,OACLI,MAAOb,EACPc,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SA5BkB,SAAAV,GACxBN,EAAeM,EAAEW,OAAOL,gB,kCCNb,SAASM,IACtB,OACE,qBAAKhB,UAAWC,IAAEgB,OAAlB,SACE,cAAC,IAAD,CAAQX,KAAK,YAAYY,MAAM,UAAUC,OAAQ,GAAIC,MAAO,O,qBCD5DC,EAAYC,SAASC,cAAc,cAmC1BC,MAjCf,YAAuC,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACxBC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,MAGvC,IAEH,IAAMA,EAAgB,SAAA1B,GACL,WAAXA,EAAE4B,MACJP,KAUJ,OAAOQ,uBACL,qBAAKjC,UAAWC,IAAEiC,QAASC,QAPF,SAAA/B,GACrBA,EAAEgC,gBAAkBhC,EAAEW,QACxBU,KAKF,SACE,sBAAKzB,UAAWC,IAAEoC,MAAlB,cAA2BX,OAE7BL,I,kCCVWiB,MAlBf,YAAuD,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,cACnC,OACE,oBACExC,UAAWC,IAAEwC,KACbN,QAAS,WACPK,EAAcD,IAHlB,SAME,qBAAKG,IAAKH,EAAQI,aAAcC,IAAKL,EAAQM,KAAM7C,UAAWC,IAAE6C,WCWvDC,MAnBf,YAAmD,IAA3BC,EAA0B,EAA1BA,QAASR,EAAiB,EAAjBA,cAC/B,OACE,oBAAIxC,UAAWC,IAAE+C,QAAjB,SACGA,EAAQC,KAAI,SAAAV,GAAO,OAClB,cAAC,EAAD,CAEEA,QAASA,EACTC,cAAeA,GAFVD,EAAQW,U,iBCNR,SAASC,EAAT,GAAmC,IAAfC,EAAc,EAAdA,WACjC,OACE,qBAAKpD,UAAU,UAAf,SACE,wBAAQA,UAAWC,IAAEM,OAAQD,KAAK,SAAS6B,QAASiB,EAApD,yB,qBCISC,EARM,SAACC,EAAaC,GAGjC,OAAOC,IACJC,IADI,UAFK,2BAEL,gBADK,qCACL,6BACsCF,EADtC,cACgDD,IACpDI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SC0FNC,MArFf,WAAgB,IAAD,EACiBjE,mBAAS,IAD1B,mBACNoD,EADM,KACGc,EADH,OAEyBlE,mBAAS,IAFlC,mBAEN0D,EAFM,KAEOS,EAFP,OAGWnE,mBAAS,GAHpB,mBAGN2D,EAHM,KAGAS,EAHA,OAIqBpE,oBAAS,GAJ9B,mBAINqE,EAJM,KAIKC,EAJL,OAKuBtE,oBAAS,GALhC,mBAKNuE,EALM,KAKMC,EALN,OAMaxE,mBAAS,MANtB,mBAMNyE,EANM,KAMCC,EAND,OAOuB1E,mBAAS,IAPhC,mBAON2E,EAPM,KAOMC,EAPN,OAQa5E,mBAAS,GARtB,mBAQN6E,EARM,KAQCC,EARD,KAUb/C,qBAAU,WACRgD,MAEC,CAACrB,IAEJ,IAAMqB,EAAe,WACnBP,GAAc,GAEdf,EAAaC,EAAaC,GACvBG,MAAK,YAAsB,IAAnBkB,EAAkB,EAAlBA,KAAMH,EAAY,EAAZA,MACbX,GAAW,SAAAe,GAAI,4BAAQA,GAAR,YAAiBD,OAChCZ,GAAQ,SAAAa,GAAI,OAAIA,EAAO,KACvBH,EAASD,GAETK,OAEDC,OAAM,SAAAV,GAAK,OAAIC,EAASD,MACxBW,SAAQ,kBAAMZ,GAAc,OAG3BU,EAAe,WACnBlD,OAAOqD,SAAS,CACdC,IAAK5D,SAAS6D,gBAAgBC,aAC9BC,SAAU,YAcRC,EAAc,WAClBpB,GAAa,SAAAW,GAAI,OAAKA,MAYxB,OACE,sBAAK7E,UAAWC,IAAEC,UAAlB,UACE,cAAC,EAAD,CAAWP,SAzBU,SAAA4F,GACnBA,IAAUjC,IAIdS,EAAewB,GACfzB,EAAW,IACXE,EAAQ,OAoBLK,GAAS,4BAAIA,EAAMmB,UAEnBxC,EAAQyC,OAAS,GAChB,cAAC,EAAD,CAAczC,QAASA,EAASR,cAhBZ,SAAA+B,GACxBC,EAAcD,GACde,OAiBGnB,GAAc,cAAC,EAAD,IAEdnB,EAAQyC,OAAS,IAAMtB,GAfnBuB,KAAKC,KAAKlB,EAAQ,MAAQlB,EAAO,GAgBpC,cAACJ,EAAD,CAAUC,WAAYuB,IAGvBV,GACC,cAAC,EAAD,CAAOxC,QAAS6D,EAAhB,SACE,qBAAK5C,IAAK6B,EAAWqB,cAAehD,IAAK2B,EAAW1B,aCrF9DgD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzE,SAAS0E,eAAe,W","file":"static/js/main.f7ce52e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__isNZ_\",\"modal\":\"Modal_modal__3Fikx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__Zw54W\",\"image\":\"ImageGalleryItem_image__9jAPO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3nhAt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"PreLoader_loader__1Po8O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__yxffc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__1toHY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Searchbar_container__20B5L\",\"form\":\"Searchbar_form__3NdZT\",\"button\":\"Searchbar_button__1giW9\",\"buttonLabel\":\"Searchbar_buttonLabel__KnOYc\",\"input\":\"Searchbar_input__3IcL9\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [inputSearch, setInputSearch] = useState('');\n\n  const handleInputChange = e => {\n    setInputSearch(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(inputSearch);\n    reset();\n  };\n\n  const reset = () => {\n    setInputSearch('');\n  };\n\n  return (\n    <header className={s.container}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <span className={s.buttonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          value={inputSearch}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = { onSubmit: PropTypes.func };\n\nexport default Searchbar;\n","import Loader from 'react-loader-spinner';\nimport s from './PreLoader.module.css';\n\nexport default function Preloader() {\n  return (\n    <div className={s.loader}>\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst rootModal = document.querySelector('#rootModal');\n\nfunction Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeydown);\n    return () => {\n      window.removeEventListener('keydown', handleKeydown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleKeydown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleOverlayClick}>\n      <div className={s.modal}> {children}</div>\n    </div>,\n    rootModal,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n};\n\nexport default Modal;\n","import PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ picture, onOpenPicture }) {\n  return (\n    <li\n      className={s.item}\n      onClick={() => {\n        onOpenPicture(picture);\n      }}\n    >\n      <img src={picture.webformatURL} alt={picture.tags} className={s.image} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  picture: PropTypes.object,\n  onOpenPicture: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nfunction ImageGallery({ gallery, onOpenPicture }) {\n  return (\n    <ul className={s.gallery}>\n      {gallery.map(picture => (\n        <ImageGalleryItem\n          key={picture.id}\n          picture={picture}\n          onOpenPicture={onOpenPicture}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(PropTypes.object),\n  onOpenPicture: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import s from './LoadMore.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function LoadMore({ onLoadMore }) {\n  return (\n    <div className=\"wrapper\">\n      <button className={s.button} type=\"button\" onClick={onLoadMore}>\n        Load More\n      </button>\n    </div>\n  );\n}\n\nLoadMore.propTypes = {\n  onLoadMore: PropTypes.func,\n};\n","import axios from 'axios';\n\nconst fetchDataApi = (searchQuery, page) => {\n  const URL = 'https://pixabay.com/api/';\n  const KEY = '18667452-b6cf3b15ecb06490e1251bb0b';\n  return axios\n    .get(`${URL}?key=${KEY}&per_page=12&page=${page}&q=${searchQuery}`)\n    .then(res => res.data);\n};\n\nexport default fetchDataApi;\n\n// import axios from 'axios';\n\n// const BASE_URL = 'https://pixabay.com/api/';\n// const API_KEY = '18667452-b6cf3b15ecb06490e1251bb0b';\n\n// axios.defaults.baseURL = BASE_URL;\n// axios.defaults.params = {\n//   key: API_KEY,\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   per_page: 12,\n// };\n\n// const fetchDataApi = async (searchQuery, page = 1) => {\n//   try {\n//     const { data } = await axios.get('', {\n//       params: { searchQuery, page },\n//     });\n//     return data;\n//   } catch (error) {\n//     console.log('error', error);\n//     return [];\n//   }\n// };\n\n// export default fetchDataApi;\n","import { useState, useEffect } from 'react';\n\nimport s from './App.module.css';\n\nimport Searchbar from './component/Searchbar';\nimport PreLoader from './component/PreLoader';\nimport Modal from './component/Modal';\nimport ImageGallery from './component/ImageGallery';\nimport LoadMore from './component/LoadMore';\n\nimport fetchDataApi from './services/fetchDataApi';\n\nfunction App() {\n  const [gallery, setGallery] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [showLoader, setShowLoader] = useState(false);\n  const [error, setError] = useState(null);\n  const [largeImage, setLargeImage] = useState({});\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    fetchGallary();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  const fetchGallary = () => {\n    setShowLoader(true);\n\n    fetchDataApi(searchQuery, page)\n      .then(({ hits, total }) => {\n        setGallery(prev => [...prev, ...hits]);\n        setPage(prev => prev + 1);\n        setTotal(total);\n\n        scrollToDown();\n      })\n      .catch(error => setError(error))\n      .finally(() => setShowLoader(false));\n  };\n\n  const scrollToDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleFormSubmit = query => {\n    if (query === searchQuery) {\n      return;\n    }\n\n    setSearchQuery(query);\n    setGallery([]);\n    setPage(1);\n  };\n\n  const toggleModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  const handleOpenPicture = largeImage => {\n    setLargeImage(largeImage);\n    toggleModal();\n  };\n\n  const showLoadMore = () => {\n    return Math.ceil(total / 12) !== page - 1;\n  };\n\n  return (\n    <div className={s.container}>\n      <Searchbar onSubmit={handleFormSubmit} />\n\n      {error && <p>{error.message}</p>}\n\n      {gallery.length > 0 && (\n        <ImageGallery gallery={gallery} onOpenPicture={handleOpenPicture} />\n      )}\n\n      {showLoader && <PreLoader />}\n\n      {gallery.length > 0 && !showLoader && showLoadMore() && (\n        <LoadMore onLoadMore={fetchGallary} />\n      )}\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}